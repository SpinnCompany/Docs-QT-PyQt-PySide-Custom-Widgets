"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[6263],{7477:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"Widgets/QDraggableWidget","title":"QDraggableWidget","description":"QDraggableWidget provides custom drag-and-drop functionality for PyQt/PySide applications. It includes two main classes: QDragItem for draggable elements and QDragWidget as a container that accepts and manages draggable items.","source":"@site/docs/01-Widgets/QDraggableWidget.md","sourceDirName":"01-Widgets","slug":"/Widgets/QDraggableWidget","permalink":"/Widgets/QDraggableWidget","draft":false,"unlisted":false,"editUrl":"https://github.com/SpinnCompany/Docs-QT-PyQt-PySide-Custom-Widgets/tree/main/docs/01-Widgets/QDraggableWidget.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"QCustomHorizontalSeparator","permalink":"/Widgets/QCustomHorizontalSeparator"},"next":{"title":"QCustomQPushButton","permalink":"/Widgets/QCustomQPushButton"}}');var t=r(4848),s=r(8453);const d={},a="QDraggableWidget",l={},o=[{value:"Overview",id:"overview",level:2},{value:"Installation",id:"installation",level:2},{value:"Classes",id:"classes",level:2},{value:"QDragItem",id:"qdragitem",level:3},{value:"QDragWidget",id:"qdragwidget",level:3},{value:"Usage",id:"usage",level:2},{value:"Programmatic Creation",id:"programmatic-creation",level:3},{value:"Qt Designer Integration",id:"qt-designer-integration",level:3},{value:"Promoting to QDragWidget",id:"promoting-to-qdragwidget",level:4},{value:"Promoting to QDragItem",id:"promoting-to-qdragitem",level:4},{value:"Key Features",id:"key-features",level:2},{value:"Drag Item Features",id:"drag-item-features",level:3},{value:"Drag Widget Features",id:"drag-widget-features",level:3},{value:"Properties",id:"properties",level:2},{value:"QDragItem Properties",id:"qdragitem-properties",level:3},{value:"QDragWidget Signals",id:"qdragwidget-signals",level:3},{value:"Methods",id:"methods",level:2},{value:"QDragItem Methods",id:"qdragitem-methods",level:3},{value:"QDragWidget Methods",id:"qdragwidget-methods",level:3},{value:"Advanced Usage",id:"advanced-usage",level:2},{value:"Custom Styling",id:"custom-styling",level:3},{value:"Dynamic Item Management",id:"dynamic-item-management",level:3},{value:"Integration with Data Models",id:"integration-with-data-models",level:3},{value:"Event Handling",id:"event-handling",level:2},{value:"Drag Operations",id:"drag-operations",level:3},{value:"Custom Event Handling",id:"custom-event-handling",level:3},{value:"Additional Notes",id:"additional-notes",level:2},{value:"Support Development",id:"support-development",level:2}];function g(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"qdraggablewidget",children:"QDraggableWidget"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"QDraggableWidget"})," provides custom drag-and-drop functionality for PyQt/PySide applications. It includes two main classes: ",(0,t.jsx)(n.code,{children:"QDragItem"})," for draggable elements and ",(0,t.jsx)(n.code,{children:"QDragWidget"})," as a container that accepts and manages draggable items."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Drag & Drop Support:"}),(0,t.jsx)(n.br,{}),"\n","Enables intuitive drag-and-drop reordering of widgets within containers."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Visual Feedback:"}),(0,t.jsx)(n.br,{}),"\n","Provides visual indicators during drag operations with drop targets."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Flexible Integration:"}),(0,t.jsx)(n.br,{}),"\n","Works with both programmatic creation and Qt Designer promotion."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Event Handling:"}),(0,t.jsx)(n.br,{}),"\n","Comprehensive mouse event handling for smooth drag interactions."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Customizable Appearance:"}),(0,t.jsx)(n.br,{}),"\n","Supports styling through standard Qt stylesheets."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install QT-PyQt-PySide-Custom-Widgets\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"classes",children:"Classes"}),"\n",(0,t.jsx)(n.h3,{id:"qdragitem",children:"QDragItem"}),"\n",(0,t.jsxs)(n.p,{children:["A custom widget that can be dragged within a ",(0,t.jsx)(n.code,{children:"QDragWidget"})," container."]}),"\n",(0,t.jsx)(n.h3,{id:"qdragwidget",children:"QDragWidget"}),"\n",(0,t.jsxs)(n.p,{children:["A container widget that accepts ",(0,t.jsx)(n.code,{children:"QDragItem"})," widgets and manages their drag-and-drop ordering."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"programmatic-creation",children:"Programmatic Creation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from qtpy.QtWidgets import QApplication, QVBoxLayout\r\nfrom Custom_Widgets.QDraggableWidget import QDragItem, QDragWidget\r\n\r\napp = QApplication([])\r\n\r\n# Create draggable items\r\ndrag_item1 = QDragItem()\r\ndrag_item1.setText("Item 1")\r\ndrag_item1.data = "item1_data"\r\n\r\ndrag_item2 = QDragItem() \r\ndrag_item2.setText("Item 2")\r\ndrag_item2.data = "item2_data"\r\n\r\n# Create drag container\r\ndrag_widget = QDragWidget()\r\nlayout = QVBoxLayout(drag_widget)\r\nlayout.addWidget(drag_item1)\r\nlayout.addWidget(drag_item2)\r\n\r\n# Connect to order changes\r\ndrag_widget.orderChanged.connect(lambda order: print(f"New order: {order}"))\r\n\r\ndrag_widget.show()\r\napp.exec_()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"qt-designer-integration",children:"Qt Designer Integration"}),"\n",(0,t.jsx)(n.h4,{id:"promoting-to-qdragwidget",children:"Promoting to QDragWidget"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Open Qt Designer"})," and design your interface"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Right-click"})," the container widget (QWidget, QFrame, etc.)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:'Select "Promote to..."'})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configure promotion:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Base class name: ",(0,t.jsx)(n.code,{children:"QWidget"})," (or your container's type)"]}),"\n",(0,t.jsxs)(n.li,{children:["Promoted class name: ",(0,t.jsx)(n.code,{children:"QDragWidget"})]}),"\n",(0,t.jsxs)(n.li,{children:["Header file: ",(0,t.jsx)(n.code,{children:"Custom_Widgets.QDraggableWidget"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"promoting-to-qdragitem",children:"Promoting to QDragItem"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Right-click"})," the widget to make draggable"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:'Select "Promote to..."'})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Configure promotion:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Base class name: ",(0,t.jsx)(n.code,{children:"QWidget"})," (or your widget's type)"]}),"\n",(0,t.jsxs)(n.li,{children:["Promoted class name: ",(0,t.jsx)(n.code,{children:"QDragItem"})]}),"\n",(0,t.jsxs)(n.li,{children:["Header file: ",(0,t.jsx)(n.code,{children:"Custom_Widgets.QDraggableWidget"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,t.jsx)(n.h3,{id:"drag-item-features",children:"Drag Item Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mouse Event Handling:"})," Left-click and drag to initiate movement"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Visual Feedback:"})," Custom cursor changes during drag operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Storage:"})," Separate data storage from visual representation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Position Tracking:"})," Remembers original position for cancellation"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"drag-widget-features",children:"Drag Widget Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drop Target Visualization:"})," Shows visual indicator during drag operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Flexible Layouts:"})," Supports both vertical and horizontal layouts"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Order Tracking:"})," Emits signals when item order changes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Boundary Checking:"})," Validates drop positions within container bounds"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.h3,{id:"qdragitem-properties",children:"QDragItem Properties"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"data"})," (any): Custom data associated with the drag item"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"original_parent"})," (QWidget): Reference to original parent widget"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"original_pos"})," (QPoint): Original position before dragging"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"qdragwidget-signals",children:"QDragWidget Signals"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"orderChanged(list)"}),": Emitted when drag items are reordered, contains list of item data"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(n.h3,{id:"qdragitem-methods",children:"QDragItem Methods"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mousePressEvent(e)"}),": Initiates drag operation on left click"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mouseMoveEvent(e)"}),": Handles drag movement with visual feedback"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mouseReleaseEvent(e)"}),": Resets cursor after drag completion"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"paintEvent(event)"}),": Custom widget painting"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"qdragwidget-methods",children:"QDragWidget Methods"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"dragEnterEvent(e)"}),": Accepts drag events"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"dragLeaveEvent(e)"}),": Hides target indicator on drag leave"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"dragMoveEvent(e)"}),": Updates drop target position during drag"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"dropEvent(e)"}),": Handles final drop and reordering"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"findDropLocation(e)"}),": Calculates optimal drop position"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"getItemData()"}),": Returns list of all item data in current order"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"paintEvent(event)"}),": Custom widget painting"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"advanced-usage",children:"Advanced Usage"}),"\n",(0,t.jsx)(n.h3,{id:"custom-styling",children:"Custom Styling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Style drag items\r\ndrag_item.setStyleSheet("""\r\n    QDragItem {\r\n        background-color: #3498db;\r\n        color: white;\r\n        padding: 10px;\r\n        border-radius: 5px;\r\n    }\r\n    QDragItem:hover {\r\n        background-color: #2980b9;\r\n    }\r\n""")\r\n\r\n# Style drag container\r\ndrag_widget.setStyleSheet("""\r\n    QDragWidget {\r\n        background-color: #f8f9fa;\r\n        border: 2px dashed #dee2e6;\r\n        border-radius: 8px;\r\n    }\r\n""")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dynamic-item-management",children:"Dynamic Item Management"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class DynamicDragManager:\r\n    def __init__(self):\r\n        self.drag_widget = QDragWidget()\r\n        self.layout = QVBoxLayout(self.drag_widget)\r\n        \r\n    def add_item(self, text, data):\r\n        item = QDragItem()\r\n        item.setText(text)\r\n        item.data = data\r\n        self.layout.addWidget(item)\r\n        \r\n    def get_current_order(self):\r\n        return self.drag_widget.getItemData()\r\n        \r\n    def clear_items(self):\r\n        for i in reversed(range(self.layout.count())):\r\n            widget = self.layout.itemAt(i).widget()\r\n            if widget:\r\n                widget.setParent(None)\r\n\r\n# Usage\r\nmanager = DynamicDragManager()\r\nmanager.add_item("Task 1", {"id": 1, "priority": "high"})\r\nmanager.add_item("Task 2", {"id": 2, "priority": "medium"})\n'})}),"\n",(0,t.jsx)(n.h3,{id:"integration-with-data-models",children:"Integration with Data Models"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class DataDrivenDragWidget(QDragWidget):\r\n    def __init__(self, data_model):\r\n        super().__init__()\r\n        self.data_model = data_model\r\n        self.layout = QVBoxLayout(self)\r\n        self.populate_from_model()\r\n        \r\n        self.orderChanged.connect(self.on_order_changed)\r\n    \r\n    def populate_from_model(self):\r\n        for item_data in self.data_model:\r\n            item = QDragItem()\r\n            item.setText(item_data['name'])\r\n            item.data = item_data\r\n            self.layout.addWidget(item)\r\n    \r\n    def on_order_changed(self, new_order):\r\n        # Update data model based on new visual order\r\n        self.data_model = new_order\r\n        print(f\"Model updated: {[item['name'] for item in new_order]}\")\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"event-handling",children:"Event Handling"}),"\n",(0,t.jsx)(n.h3,{id:"drag-operations",children:"Drag Operations"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drag Start:"})," Left mouse press on QDragItem"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drag Move:"})," Mouse movement with left button held"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drag Over:"})," Visual indicator shows drop position"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drop:"})," Item inserted at target position, orderChanged signal emitted"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Drag Cancel:"})," Item returns to original position if dropped outside container"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"custom-event-handling",children:"Custom Event Handling"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class CustomDragItem(QDragItem):\r\n    def mousePressEvent(self, e):\r\n        if e.button() == Qt.LeftButton:\r\n            print(f"Dragging item with data: {self.data}")\r\n            super().mousePressEvent(e)\r\n    \r\n    def mouseReleaseEvent(self, e):\r\n        print("Drag operation completed")\r\n        super().mouseReleaseEvent(e)\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"additional-notes",children:"Additional Notes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Layout Compatibility:"})," Works with QVBoxLayout and QHBoxLayout"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Performance:"})," Efficient rendering during drag operations"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Accessibility:"})," Proper cursor feedback for user interaction"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling:"})," Graceful handling of invalid drop positions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cross-Platform:"})," Consistent behavior across Windows, macOS, and Linux"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"support-development",children:"Support Development"}),"\n",(0,t.jsx)(n.p,{children:"If you find these custom widgets helpful and would like to support their development, consider becoming a patron:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.patreon.com/spinntv",children:"Support us on Patreon"})}),"\n",(0,t.jsx)(n.p,{children:"Your support helps maintain and improve these custom widgets for the community."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"QDraggableWidget"})," module is ideal for creating sortable lists, customizable dashboards, task organizers, and any interface requiring intuitive drag-and-drop reordering of elements."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>a});var i=r(6540);const t={},s=i.createContext(t);function d(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);