"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[1071],{6860:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"Widgets/QCustomArcLoader","title":"QCustomArcLoader","description":"Copyright 2021","source":"@site/docs/01-Widgets/QCustomArcLoader.md","sourceDirName":"01-Widgets","slug":"/Widgets/QCustomArcLoader","permalink":"/Widgets/QCustomArcLoader","draft":false,"unlisted":false,"editUrl":"https://github.com/SpinnCompany/Docs-QT-PyQt-PySide-Custom-Widgets/tree/main/docs/01-Widgets/QCustomArcLoader.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"QCustom3CirclesLoader","permalink":"/Widgets/QCustom3CirclesLoader"},"next":{"title":"QCustomPerlinLoader","permalink":"/Widgets/QCustomPerlinLoader"}}');var i=s(4848),t=s(8453);const a={},d="QCustomArcLoader",o={},l=[{value:"Overview",id:"overview",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Classes",id:"classes",level:2},{value:"ArcLoader",id:"arcloader",level:3},{value:"Constructor",id:"constructor",level:4},{value:"Methods",id:"methods",level:4},{value:"QCustomArcLoader",id:"qcustomarcloader-1",level:3},{value:"Constructor",id:"constructor-1",level:4},{value:"Initialization",id:"initialization",level:4},{value:"Methods",id:"methods-1",level:4},{value:"Usage Example",id:"usage-example",level:2},{value:"Notes",id:"notes",level:2}];function c(e){const n={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"qcustomarcloader",children:"QCustomArcLoader"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Copyright 2021"}),(0,i.jsx)(n.br,{}),"\n","by Parham Oyan and Oleg Frolov",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Edits and improvements:"})," Khamisi Kibet",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"QT GUI by:"})," SPINN TV (YouTube)",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"License:"})," GPL 3.0"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"QCustomArcLoader"})," is a custom animated loader widget that displays a dynamic, spinning arc animation. Built on top of ",(0,i.jsx)(n.code,{children:"QFrame"}),", it leverages the helper class ",(0,i.jsx)(n.code,{children:"ArcLoader"})," to animate arc parameters (rotation, start angle, and span angle) using Qt's animation framework. This loader is ideal for indicating processing or loading states in Qt applications."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/KhamisiKibet/Docs-QT-PyQt-PySide-Custom-Widgets/raw/main/images/custom-arc-loader.gif",alt:"QCustomArcLoader GIF"})}),"\n",(0,i.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Customizable Appearance:"}),(0,i.jsx)(n.br,{}),"\n","Configure the loader\u2019s color and pen width."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Smooth, Coordinated Animations:"}),(0,i.jsx)(n.br,{}),"\n","Uses sequential and parallel animations (via ",(0,i.jsx)(n.code,{children:"QVariantAnimation"}),", ",(0,i.jsx)(n.code,{children:"QSequentialAnimationGroup"}),", and ",(0,i.jsx)(n.code,{children:"QParallelAnimationGroup"}),") to animate rotation, span, and start angles."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Dynamic Drawing:"}),(0,i.jsx)(n.br,{}),"\n","Overrides the ",(0,i.jsx)(n.code,{children:"paintEvent"})," to render arcs with anti-aliasing for smooth visuals."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reusable Components:"}),(0,i.jsx)(n.br,{}),"\n","The ",(0,i.jsx)(n.code,{children:"ArcLoader"})," class encapsulates the animation logic, making it easy to adjust or extend."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"classes",children:"Classes"}),"\n",(0,i.jsx)(n.h3,{id:"arcloader",children:"ArcLoader"}),"\n",(0,i.jsx)(n.p,{children:"A helper class that manages the arc\u2019s animation parameters."}),"\n",(0,i.jsx)(n.h4,{id:"constructor",children:"Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"ArcLoader(\r\n    parent=None,\r\n    spacer=0,\r\n    startAngle=270,\r\n    spanAngle=1/16,\r\n    direction=True,\r\n    duration=4000\r\n)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"parent"})}),": The parent widget (typically a ",(0,i.jsx)(n.code,{children:"QCustomArcLoader"})," instance)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"spacer"})}),": Initial offset for rotation."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"startAngle"})}),": Starting angle (in degrees) for the arc (default is 270\xb0)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"spanAngle"})}),": The angular span of the arc (default is 1/16 of a full circle)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"direction"})}),": A boolean to control the animation sequence order."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"duration"})}),": Duration (in milliseconds) for the animations."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"getRotationAnimation()"})}),(0,i.jsx)(n.br,{}),"\n","Returns a ",(0,i.jsx)(n.code,{children:"QVariantAnimation"})," that rotates the arc by updating the ",(0,i.jsx)(n.code,{children:"spacer"})," value from its current value to an additional two full rotations.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsxs)(n.em,{children:["Animation updates are applied via ",(0,i.jsx)(n.code,{children:"updateSpacer"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"getSpanAngleAnimation()"})}),(0,i.jsx)(n.br,{}),"\n","Returns a ",(0,i.jsx)(n.code,{children:"QVariantAnimation"})," that animates the ",(0,i.jsx)(n.code,{children:"spanAngle"})," from its default value to a value increased by 360\xb0.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsxs)(n.em,{children:["When finished, it calls ",(0,i.jsx)(n.code,{children:"animationFinished"})," and updates via ",(0,i.jsx)(n.code,{children:"updateSpanAngle"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"getStartAngleAnimation()"})}),(0,i.jsx)(n.br,{}),"\n","Returns a ",(0,i.jsx)(n.code,{children:"QVariantAnimation"})," that animates the ",(0,i.jsx)(n.code,{children:"startAngle"})," from 270\xb0 to 630\xb0.",(0,i.jsx)(n.br,{}),"\n",(0,i.jsxs)(n.em,{children:["Upon finishing, ",(0,i.jsx)(n.code,{children:"startAnimationFinished"})," resets angles and toggles the animation direction; updates are applied via ",(0,i.jsx)(n.code,{children:"updateStartAngle"}),"."]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"startAnimations()"})}),(0,i.jsx)(n.br,{}),"\n","Combines the above animations into a sequential group (ordering depends on the current ",(0,i.jsx)(n.code,{children:"direction"}),") and a parallel group that also runs the rotation animation. The animation group loops 10 times before stopping."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Update Methods:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"updateStartAngle(newValue)"}),": Updates the start angle and repaints the parent."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"updateSpacer(newValue)"}),": Updates the spacer value (rotation offset) and repaints."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"updateSpanAngle(newValue)"}),": Updates the span angle and repaints."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"qcustomarcloader-1",children:"QCustomArcLoader"}),"\n",(0,i.jsxs)(n.p,{children:["A custom loader widget that draws animated arcs using the parameters managed by an ",(0,i.jsx)(n.code,{children:"ArcLoader"})," instance."]}),"\n",(0,i.jsx)(n.h4,{id:"constructor-1",children:"Constructor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'QCustomArcLoader(\r\n    parent=None,\r\n    color=QColor("#ffffff"),\r\n    penWidth=20\r\n)\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameters:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"parent"})}),": The parent widget."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"color"})}),": Color of the arc(s) (default is white)."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"penWidth"})}),": The width of the drawing pen."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Sets the frame shape to ",(0,i.jsx)(n.code,{children:"NoFrame"})," and fixes the widget size to 160\xd7160 pixels."]}),"\n",(0,i.jsxs)(n.li,{children:["Initializes the drawing pen via ",(0,i.jsx)(n.code,{children:"initPen()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Instantiates an ",(0,i.jsx)(n.code,{children:"ArcLoader"})," with preset parameters and starts its animations."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"methods-1",children:"Methods"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"calculateXR(level)"})}),(0,i.jsx)(n.br,{}),"\n","Calculates the x-offset and remaining width/height (",(0,i.jsx)(n.code,{children:"r"}),") for drawing arcs based on a given ",(0,i.jsx)(n.code,{children:"level"})," (used for inner and outer arcs)."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"draw()"})}),(0,i.jsx)(n.br,{}),"\n","Draws two arcs:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Primary Arc:"}),(0,i.jsx)(n.br,{}),"\n","Uses the current ",(0,i.jsx)(n.code,{children:"ArcLoader"})," parameters to compute the span angle and draws the arc with a negative angle to achieve a clockwise effect."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Secondary Arc:"}),(0,i.jsx)(n.br,{}),"\n","Draws a complementary arc (the remaining portion of the circle) with a thicker offset."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"initPen(penWidth)"})}),(0,i.jsx)(n.br,{}),"\n","Configures a ",(0,i.jsx)(n.code,{children:"QPen"})," with the specified color, width, and a rounded cap style."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"paintEvent(e)"})}),(0,i.jsx)(n.br,{}),"\n","Overrides the widget\u2019s paint event to:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Set up a ",(0,i.jsx)(n.code,{children:"QPainter"})," with anti-aliasing."]}),"\n",(0,i.jsx)(n.li,{children:"Set the pen."}),"\n",(0,i.jsxs)(n.li,{children:["Call ",(0,i.jsx)(n.code,{children:"draw()"})," to render the arcs."]}),"\n",(0,i.jsx)(n.li,{children:"End the painter."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from qtpy.QtWidgets import QApplication\r\nfrom qtpy.QtGui import QColor\r\nfrom Custom_Widgets.LoadingIndicators import QCustomArcLoader\r\n\r\nif __name__ == "__main__":\r\n    app = QApplication([])\r\n    \r\n    # Create an instance of the arc loader with custom parameters\r\n    arcLoader = QCustomArcLoader(\r\n        color=QColor("#00AAFF"),  # Custom arc color\r\n        penWidth=15               # Custom pen width\r\n    )\r\n    \r\n    arcLoader.show()\r\n    app.exec_()\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Animation Loop:"}),(0,i.jsx)(n.br,{}),"\n","The animation is configured to loop 10 times. Modify the loop count in ",(0,i.jsx)(n.code,{children:"startAnimations()"})," if you require continuous or different looping behavior."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Customization:"}),(0,i.jsx)(n.br,{}),"\n","Adjust parameters such as ",(0,i.jsx)(n.code,{children:"color"}),", ",(0,i.jsx)(n.code,{children:"penWidth"}),", and ",(0,i.jsx)(n.code,{children:"duration"})," to match your application's style."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Integration:"}),(0,i.jsx)(n.br,{}),"\n","This widget is part of the ",(0,i.jsx)(n.strong,{children:"Custom_Widgets.LoadingIndicators"})," module and can be integrated into any Qt application using ",(0,i.jsx)(n.code,{children:"qtpy"})," (compatible with PyQt and PySide)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>d});var r=s(6540);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);